(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){e.exports={lives:"lives_lives__25sR3",hearts:"lives_hearts__3ieUK",heart:"lives_heart__3ZrLf"}},15:function(e,t,a){e.exports={cell:"cell_cell__3UvwD",blankCell:"cell_blankCell__1Ng5v",snakeCell:"cell_snakeCell__3QAz5",fruitCell:"cell_fruitCell__1_Dfm",fruitCellAppear:"cell_fruitCellAppear__2T3pj",snakeHead:"cell_snakeHead__1IH_J"}},20:function(e,t,a){e.exports={screen:"label_screen__2QX8H",screenAppear:"label_screenAppear__1JsD8",label:"label_label__3nZJC",blink:"label_blink__2fOy3"}},23:function(e,t,a){e.exports={game:"game_game__1hs_r",flash:"game_flash__18sLW"}},24:function(e,t,a){e.exports={main:"wait_main__21O_n",circle:"wait_circle__2pKdt",countdown:"wait_countdown__PMJ85"}},31:function(e,t,a){e.exports={board:"board_board__3SerM"}},32:function(e,t,a){e.exports={field:"field_field__1ZuUU"}},33:function(e,t,a){e.exports=a(43)},42:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(28),s=a.n(l),c=a(9),i=a(29),o=a(10),u="app/game/SET_GAME_STATE",m="app/game/PAUSE_GAME",v="app/game/SET_LEVEL",p="app/game/SET_DIRECTION",b=21,f={BLANK:0,SNAKE:1,FRUIT:2},h={TOP:0,RIGHT:1,BOTTOM:2,LEFT:3},g=5,d=new o.b({pause:!1,gameOver:!1,score:null,level:null,lives:null,cells:null,snakeCells:null,nextLevelCountdown:null,direction:h.TOP});var O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case u:return t.state;case m:var a=t.value;return e.set("pause",a);case v:var n=t.level;return e.set("level",n);case p:var r=t.direction;return e.set("direction",r);default:return e}},_=Object(c.c)({game:O}),E=function(){var e=[i.a],t=c.d.apply(void 0,[c.a.apply(void 0,e)].concat([]));return Object(c.e)(_,{},t)},k=a(1),j=a(2),C=a(4),T=a(3),y=a(5),w=a(6),N=a(19),A=a(8),I=a.n(A),S=function(e){function t(){return Object(k.a)(this,t),Object(C.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props.className;return r.a.createElement("svg",{className:e,version:"1.1",viewBox:"0 0 51.997 51.997",xmlSpace:"preserve"},r.a.createElement("g",null,r.a.createElement("path",{d:"M51.911,16.242C51.152,7.888,45.239,1.827,37.839,1.827c-4.93,0-9.444,2.653-11.984,6.905 c-2.517-4.307-6.846-6.906-11.697-6.906c-7.399,0-13.313,6.061-14.071,14.415c-0.06,0.369-0.306,2.311,0.442,5.478 c1.078,4.568,3.568,8.723,7.199,12.013l18.115,16.439l18.426-16.438c3.631-3.291,6.121-7.445,7.199-12.014 C52.216,18.553,51.97,16.611,51.911,16.242z M49.521,21.261c-0.984,4.172-3.265,7.973-6.59,10.985L25.855,47.481L9.072,32.25 c-3.331-3.018-5.611-6.818-6.596-10.99c-0.708-2.997-0.417-4.69-0.416-4.701l0.015-0.101C2.725,9.139,7.806,3.826,14.158,3.826 c4.687,0,8.813,2.88,10.771,7.515l0.921,2.183l0.921-2.183c1.927-4.564,6.271-7.514,11.069-7.514 c6.351,0,11.433,5.313,12.096,12.727C49.938,16.57,50.229,18.264,49.521,21.261z"}),r.a.createElement("path",{d:"M15.999,7.904c-5.514,0-10,4.486-10,10c0,0.553,0.447,1,1,1s1-0.447,1-1c0-4.411,3.589-8,8-8c0.553,0,1-0.447,1-1 S16.551,7.904,15.999,7.904z"})))}}]),t}(r.a.Component),L=a(14),x=a.n(L),G=function(e){function t(){return Object(k.a)(this,t),Object(C.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props.className;return r.a.createElement("svg",{className:e,version:"1.1",viewBox:"0 0 50 50"},r.a.createElement("path",{style:{fill:"#d8282e"},d:"M24.85,10.126c2.018-4.783,6.628-8.125,11.99-8.125c7.223,0,12.425,6.179,13.079,13.543 c0,0,0.353,1.828-0.424,5.119c-1.058,4.482-3.545,8.464-6.898,11.503L24.85,48L7.402,32.165c-3.353-3.038-5.84-7.021-6.898-11.503 c-0.777-3.291-0.424-5.119-0.424-5.119C0.734,8.179,5.936,2,13.159,2C18.522,2,22.832,5.343,24.85,10.126z"}),r.a.createElement("path",{style:{fill:"#FF7373"},d:"M6,18.078c-0.553,0-1-0.447-1-1c0-5.514,4.486-10,10-10c0.553,0,1,0.447,1,1s-0.447,1-1,1 c-4.411,0-8,3.589-8,8C7,17.631,6.553,18.078,6,18.078z"}))}}]),t}(r.a.Component),K=function(e){function t(){return Object(k.a)(this,t),Object(C.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){for(var e=this.props,t=e.max,a=e.value,n=[],l=0;l<t;l+=1)l<a?n.push(r.a.createElement(G,{key:"".concat(l,"_full"),className:x.a.heart})):n.push(r.a.createElement(S,{key:"".concat(l,"_empty"),className:x.a.heart}));return r.a.createElement("div",{className:x.a.lives},r.a.createElement("div",{className:x.a.label},"Lives:"),r.a.createElement("div",{className:x.a.hearts},n))}}]),t}(r.a.Component),M=function(e){var t=e.value;return r.a.createElement(N.a,{value:t,className:I.a.valueContainer,flashClassName:I.a.valueContainerActive,outerElementType:"span"},r.a.createElement("span",null,t))},R=function(e){function t(){return Object(k.a)(this,t),Object(C.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props,t=e.score,a=e.level,n=e.lives;return null===a?r.a.createElement("div",{className:I.a.bar},r.a.createElement("div",{className:I.a.logo},"SNAKE")):r.a.createElement("div",{className:I.a.bar},r.a.createElement("div",{className:I.a.section,style:{marginRight:10}},r.a.createElement(K,{value:n,max:3})),r.a.createElement("div",{className:I.a.section},"Level:",r.a.createElement(M,{value:a})),r.a.createElement("div",{className:"filler"}),r.a.createElement("div",{className:I.a.section},"Score:",r.a.createElement(M,{value:t})))}}]),t}(r.a.Component);var D=Object(w.b)(function(e,t){return{score:e.game.get("score"),level:e.game.get("level"),lives:e.game.get("lives")}},{})(R),B=a(23),U=a.n(B),P=a(31),F=a.n(P),H=a(17),W=a(18),z=a.n(W),J=a(20),Q=a.n(J),Z=function(e){function t(){return Object(k.a)(this,t),Object(C.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props,t=e.active,a=e.label,n=e.blink;return t?r.a.createElement("div",{className:Q.a.screen},r.a.createElement("div",{className:z()(Q.a.label,Object(H.a)({},Q.a.blink,n))},a)):null}}]),t}(r.a.Component),q=a(15),V=a.n(q),X=function(e){function t(){return Object(k.a)(this,t),Object(C.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e,t=this.props,a=t.x,n=t.y,l=t.cellType,s=t.isSnakeHead;switch(l){case f.BLANK:e=V.a.blankCell;break;case f.SNAKE:e=V.a.snakeCell;break;case f.FRUIT:e=V.a.fruitCell}return r.a.createElement("div",{className:z()(V.a.cell,e,Object(H.a)({},V.a.snakeHead,s)),style:{left:1+21*a,top:1+21*n,width:20,height:20}})}}]),t}(r.a.Component);var Y=Object(w.b)(function(e,t){var a=t.y,n=t.x;return{cellType:e.game.getIn(["cells",a,n]),isSnakeHead:e.game.getIn(["snakeCells",0,0])===a&&e.game.getIn(["snakeCells",0,1])===n}},{})(X),$=a(32),ee=a.n($),te=function(e){function t(){return Object(k.a)(this,t),Object(C.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){for(var e=[],t=0;t<b;t+=1)for(var a=0;a<b;a+=1)e.push(r.a.createElement(Y,{x:a,y:t,key:"".concat(t,"_").concat(a)}));return r.a.createElement("div",{className:ee.a.field},e)}}]),t}(r.a.Component);Object(w.b)(function(e,t){return{cells:e.game.get("cells")}},{})(te);function ae(e){return e[Math.floor(Math.random()*e.length)]}function ne(e){var t=[],a=[];return e.forEach(function(e,n){e.forEach(function(e,r){e===f.BLANK&&(t.push([n,r]),n>0&&n<b-1&&r>0&&r<b-1&&a.push([n,r]))})}),a.length?ae(a):ae(t)}function re(){for(var e=Math.floor(b/2),t=new o.a,a=o.c(Array(b).fill(Array(b).fill(f.BLANK))),n=0;n<3;n+=1)a=a.setIn([e+n,e],f.SNAKE),t=t.push(new o.a([e+n,e]));var r=ne(a);return{cells:a=a.setIn(r,f.FRUIT),snakeCells:t}}var le=a(24),se=a.n(le),ce=function(e){function t(){return Object(k.a)(this,t),Object(C.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return r.a.createElement("svg",{className:se.a.main},r.a.createElement("circle",{className:se.a.circle,r:"18",cx:"20",cy:"20"}))}}]),t}(r.a.Component),ie=window.key,oe=function(e){function t(){var e,a;Object(k.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(C.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).gameTickTimeoutId=null,a.state={showWaitCircle:!1},a.doGameTick=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.skipTick,n=void 0!==t&&t,r=e.startReadiness,l=void 0!==r&&r;l?a.setState({showWaitCircle:!0}):a.state.showWaitCircle&&a.setState({showWaitCircle:!1}),a.gameTickTimeoutId&&clearTimeout(a.gameTickTimeoutId);var s=a.props.level,c=120-s*(5-s/10);(l&&(c=1e3),a.gameTickTimeoutId=setTimeout(a.doGameTick,c),n||l)||(0,a.props.gameTick)()},a.stopGame=function(){a.gameTickTimeoutId&&clearTimeout(a.gameTickTimeoutId),a.state.showWaitCircle&&a.setState({showWaitCircle:!1})},a.resumeGame=function(){a.doGameTick({skipTick:!0})},a.setDirection=function(e){var t=a.props,n=t.level,r=t.pause,l=t.setDirection;null===n||r||l(e)},a.bindKeys=function(){ie("up",function(){a.setDirection(h.TOP)}),ie("right",function(){a.setDirection(h.RIGHT)}),ie("down",function(){a.setDirection(h.BOTTOM)}),ie("left",function(){a.setDirection(h.LEFT)}),ie("space",function(){var e=a.props,t=e.level,n=e.restartGame,r=e.pauseGame,l=e.pause,s=e.gameOver;null===t||s?n():r(!l)})},a.unBindKeys=function(){ie.unbind("top"),ie.unbind("right"),ie.unbind("bottom"),ie.unbind("left"),ie.unbind("space")},a}return Object(y.a)(t,e),Object(j.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){(!e.level&&this.props.level||e.gameOver&&!this.props.gameOver)&&this.doGameTick({startReadiness:!0}),this.props.lives<e.lives&&!this.props.gameOver&&this.doGameTick({startReadiness:!0}),!e.gameOver&&this.props.gameOver&&this.stopGame(),!e.pause&&this.props.pause&&this.stopGame(),e.pause&&!this.props.pause&&this.resumeGame()}},{key:"componentDidMount",value:function(){this.bindKeys()}},{key:"componentWillUnmount",value:function(){this.stopGame(),this.unBindKeys()}},{key:"render",value:function(){var e=this.props,t=e.pause,a=e.gameOver,n=e.level,l=this.state.showWaitCircle,s=21*b+1;return r.a.createElement("div",{className:F.a.board,style:{width:s,height:s}},null!==n&&r.a.createElement(te,null),r.a.createElement(Z,{active:null===n,label:r.a.createElement("div",null,"Press",r.a.createElement("br",null),"SPACEBAR",r.a.createElement("br",null),"to start",r.a.createElement("br",null),r.a.createElement("span",null,"Use the Arrow keys and Don't hit the wall! "))}),r.a.createElement(Z,{active:t,label:"Pause",blink:!0}),r.a.createElement(Z,{active:a,label:"Game Over"}),l&&r.a.createElement(ce,{radius:20}))}}]),t}(r.a.Component);var ue=Object(w.b)(function(e,t){return{pause:e.game.get("pause"),level:e.game.get("level"),lives:e.game.get("lives"),startReadiness:e.game.get("startReadiness"),gameOver:e.game.get("gameOver")}},{gameTick:function(){return function(e,t){var a=t().game,n=a.get("gameOver"),r=a.get("pause");if(!n&&!r){var l,s=a.get("direction"),c=a.get("score"),i=a.get("level"),m=a.get("nextLevelCountdown"),v=a.get("snakeCells"),p=a.get("cells"),d=v.get(0);switch(s){case h.TOP:l=[d.get(0)-1,d.get(1)];break;case h.RIGHT:l=[d.get(0),d.get(1)+1];break;case h.BOTTOM:l=[d.get(0)+1,d.get(1)];break;case h.LEFT:l=[d.get(0),d.get(1)-1]}if(function(e,t){return e[0]<0||e[0]>b-1||e[1]<0||e[1]>b-1||t.getIn(e)===f.SNAKE}(l,p)){var O=re(),_=O.cells,E=O.snakeCells,k=a.get("lives");return a=k>1?a.set("snakeCells",E).set("cells",_).set("direction",h.TOP).set("lives",k-1):a.set("gameOver",!0).set("lives",0),e({type:u,state:a})}var j=p.getIn(l)===f.FRUIT;if(v=v.unshift(new o.a(l)),p=p.setIn(l,f.SNAKE),j){var C=ne(p);p=p.setIn(C,f.FRUIT),a=a.set("score",c+10),a=m>1?a.set("nextLevelCountdown",m-1):(a=a.set("nextLevelCountdown",g)).set("level",i+1)}else{var T=v.get(v.size-1).toJS();v=v.pop(),p=p.setIn(T,f.BLANK)}a=a.set("snakeCells",v).set("cells",p),e({type:u,state:a})}}},setDirection:function(e){return function(t,a){var n=a().game.getIn(["snakeCells",0]),r=a().game.get("cells"),l=!0;switch(e){case h.TOP:l=r.getIn([n.get(0)-1,n.get(1)])!==f.SNAKE;break;case h.RIGHT:l=r.getIn([n.get(0),n.get(1)+1])!==f.SNAKE;break;case h.BOTTOM:l=r.getIn([n.get(0)+1,n.get(1)])!==f.SNAKE;break;case h.LEFT:l=r.getIn([n.get(0),n.get(1)-1])!==f.SNAKE}l&&t({type:p,direction:e})}},restartGame:function(){var e=re(),t=e.cells,a=e.snakeCells,n=(new o.b).set("pause",!1).set("gameOver",!1).set("level",1).set("lives",3).set("score",0).set("cells",t).set("snakeCells",a).set("nextLevelCountdown",g).set("direction",h.TOP);return{type:u,state:n}},pauseGame:function(e){return{type:m,value:e}}})(oe),me=function(e){function t(){return Object(k.a)(this,t),Object(C.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props.score;return r.a.createElement(N.a,{value:e,flashDuration:100,className:U.a.game,flashClassName:U.a.flash,outerElementType:"span",compare:function(e,t){return t.value>e.value}},r.a.createElement(D,null),r.a.createElement(ue,null))}}]),t}(r.a.Component);var ve=Object(w.b)(function(e,t){return{score:e.game.get("score")}},{})(me),pe=function(e){function t(){return Object(k.a)(this,t),Object(C.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props.store;return r.a.createElement(w.a,{store:e},r.a.createElement("div",{className:"filler"},r.a.createElement(ve,null)))}}]),t}(r.a.Component);a(42);var be=E(),fe=document.querySelector("#root");s.a.render(r.a.createElement(pe,{store:be}),fe),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e,t,a){e.exports={bar:"statusbar_bar__3-Mvw",section:"statusbar_section__1L_Gn",logo:"statusbar_logo__ucU84",valueContainer:"statusbar_valueContainer__nzlQi",valueContainerActive:"statusbar_valueContainerActive__2kdwm"}}},[[33,1,2]]]);
//# sourceMappingURL=main.abbf8815.chunk.js.map